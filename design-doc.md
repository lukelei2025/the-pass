# 数字操作台 (Digital Workbench) - 设计文档

> **项目代号**: Workbench
> **版本**: MVP (本地版)
> **创建日期**: 2025-02-09
> **目标用户**: 知识工作者/创作者

---

## 📋 产品概述

### 核心理念

打造一个"不仅用来存放，更是用来'流转'的数字操作台"。它不是终点，而是信息流转的中转站。所有进入这里的内容，默认寿命只有 **24-48 小时**，必须被"处理"，否则就会"腐烂"（自动归档或删除）。

### 解决的问题

| 痛点 | 解决方案 |
|------|----------|
| 信息过载，收集了但从不处理 | 24小时腐烂机制，强制处理 |
| 收集工具和执行工具混在一起 | 专注"预处理"环节，不与 Notion/Todoist 竞争 |
| 不知道如何分类，懒得分类 | 四象限分拣，简单粗暴 |
| 操作台变成"储物柜"，越积越多 | 每日清空仪式，永远保持干净 |

---

## 🎯 产品定位

### 不是什么

- ❌ 不是 To-Do 工具（不与 Todoist/TickTick 竞争）
- ❌ 不是知识库（不与 Notion 竞争）
- ❌ 不是阅读工具（不与 Readwise 竞争）

### 是什么

- ✅ **Pre-work 工具** — 把原材料变成半成品的"预处理站"
- ✅ **临时操作台** — 24-48小时的临时存放，必须分流
- ✅ **信息分诊台** — 快速决定：立即做 / 以后做 / 存起来 / 扔掉

---

## 🔧 核心功能

### 1. 极速倾倒口 (The Dump Zone)

- **功能**: 轻量收集入口，支持文字、链接
- **体验**: 零分类、零标签、零设置 — 就像把菜扔到桌子上
- **实现**: 主界面输入框 + 可选浏览器插件

### 2. 临时操作台视图 (The Workbench View)

- **视觉**: 卡片堆叠/桌面平铺，非传统列表
- **新鲜度**: 每个卡片显示倒计时（如"还剩 6 小时"）
- **状态**: 正常(绿色) / 警告(黄色) / 紧急(红色)

### 3. 四象限分拣动作 (The Triage Actions)

| 动作 | 图标 | 说明 | MVP 实现 |
|------|------|------|----------|
| **立即处理** | 🔪 Cook Now | 2分钟能看完/回完的内容 | 内置快速笔记，完成后标记 |
| **加入菜单** | 🥘 To-Do | 具体任务，以后做 | 一键复制为 Todoist 格式 |
| **放入冰箱** | 🧊 Store | 高价值长文/资料 | 一键复制为 Notion 格式 |
| **扔进垃圾桶** | 🗑️ Compost | 发现没价值 | 直接删除 |

### 4. 每日清空仪式 (Daily Clearance)

- **机制**: 每天设定时间（如晚上10点）触发清空提醒
- **选项**: 现在决定 / 自动移入过期箱
- **价值**: 保证操作台永远是干净的

---

## 📊 数据模型

### 卡片 (Item) 包含的信息

| 字段 | 说明 | 示例 |
|------|------|------|
| **ID** | 卡片唯一身份证 | `abc-123-xyz` |
| **内容** | 你丢进来的东西 | "一篇关于AI的文章" 或 "明天开会的想法" |
| **类型** | 内容类型 | 纯文字 / 网页链接 / 笔记 |
| **来源** | 链接来源 | `https://example.com/article` |
| **状态** | 当前在哪象限 | 待处理/已处理/导出任务/导出存储/已删除/过期 |
| **创建时间** | 何时丢进来 | 2025-02-09 14:30:00 |
| **腐烂时间** | 何时过期 | 创建时间 + 24小时 |
| **处理时间** | 何时处理完 | 2025-02-09 15:00:00 |

### 六种状态流转

```
📋 待处理 (pending)
   ↓ 你选择怎么处理
   │
   ├─→ 🔪 已处理 (cooked)
   │
   ├─→ 🥘 导出为任务 (todo)
   │
   ├─→ 🧊 导出为存储 (frozen)
   │
   └─→ 🗑️ 已删除 (composted)

⏰ 过期 (expired) — 超过24小时还没处理
```

### 用户设置

| 设置 | 说明 | 可选值 |
|------|------|--------|
| **腐烂时间** | 卡片多久过期 | 24小时 / 48小时 |
| **清空时间** | 每天"关店"时间 | 如 "22:00" |
| **主题** | 界面风格 | 浅色 / 深色 |
| **提醒** | 过期提醒 | 开 / 关 |

---

## ⏰ 腐烂机制示例

```
你今天下午 2:00 丢进一篇文章：
├─ 创建时间：14:00
├─ 腐烂时间：明天 14:00（24小时后）
│
├─ 晚上 8:00 查看时：
│  └─ 剩余时间：18 小时（状态：正常，绿色）
│
├─ 明天中午 12:00 查看时：
│  └─ 剩余时间：2 小时（状态：紧急，红色）
│
└─ 明天下午 3:00 还没处理：
   └─ 已经过期（自动标记为"过期"状态）
```

---

## 💾 本地存储

### 数据存在哪里？

**存在你的浏览器里，不是服务器**

```
┌────────────────────────────────────┐
│         你的浏览器                  │
│  ┌──────────────────────────────┐  │
│  │   数字操作台的数据            │  │
│  │   - 所有卡片                  │  │
│  │   - 你的设置                  │  │
│  │   - 历史记录                  │  │
│  └──────────────────────────────┘  │
└────────────────────────────────────┘
         ↑
         │ 存在这里
         │
   你的电脑/手机
```

### 优缺点

| 优点 | 缺点 |
|------|------|
| ✅ 不需要网络就能用 | ❌ 换设备数据不同步 |
| ✅ 数据完全私密 | ❌ 清浏览器数据会丢失 |
| ✅ 零成本 | ❌ 时间可被系统修改影响 |

---

## 🛠️ 技术栈 (MVP 本地版)

| 层级 | 技术选择 | 理由 |
|------|----------|------|
| **前端框架** | React + Vite | 生态成熟，PWA 支持好 |
| **UI 组件** | shadcn/ui + Tailwind CSS | 现代设计，轻量可定制 |
| **状态管理** | Zustand / Jotai | 轻量级，适合 PWA |
| **本地存储** | localForage (IndexedDB) | 友好封装，容量大 |
| **PWA 配置** | vite-plugin-pwa | 自动生成 Service Worker |

---

## 📱 产品形态

### PWA (渐进式 Web 应用)

- ✅ 跨平台：电脑和手机都能用
- ✅ 可安装：安装到桌面/主屏幕，体验接近原生
- ✅ 离线可用：不需要网络也能收集和查看
- ✅ 零门槛：通过链接访问，无需应用商店

### 未来云端版（规划）

```
本地 MVP (自己用 2-4 周)
        ↓
验证核心概念有效
        ↓
云端多用户版
├─ Firebase Authentication (Google/GitHub 登录)
├─ Firestore Database (云端存储)
├─ 跨设备同步
└─ 真实 API 集成 (Todoist/Notion)
```

---

## 🎨 界面设计

### 主界面布局（按内容类型分组）

```
┌─────────────────────────────────────────────────────────────┐
│  🏠 数字操作台                              🔔 ⚙️            │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────┐    │
│  │  📥 丢点什么进来...                                 │    │
│  │     [输入框 - 支持文字/链接]          [类型 ▼]      │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                               │
│  💡 随时灵感 (3)                     ║═════════════════     │
│  ┌──────────────────┐  ┌──────────────────┐               │
│  │ 产品想法：语音... │  │ 关于那个设计...   │               │
│  │ ║══════════════  │  │ ║══════║         │               │
│  └──────────────────┘  └──────────────────┘               │
│                                                               │
│  💼 工作待办 (2)                     ║═════════════════     │
│  ┌──────────────────┐  ┌──────────────────┐               │
│  │ 回复王总关于...  │  │ 周五会议准备...   │               │
│  │ ║══════║         │  │ ║══════════║     │               │
│  └──────────────────┘  └──────────────────┘               │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│  [🏠 操作台]  [🥘 菜单]  [🧊 冰箱]  [📜 历史]              │
└─────────────────────────────────────────────────────────────┘
```

### 时间紧迫度的视觉表达

| 视觉 | 剩余时间 | 颜色 | 状态 |
|------|----------|------|------|
| `║═════════════════` | >12 小时 | 🟢 绿色 | 正常 |
| `║═══════════║` | 6-12 小时 | 🟡 黄色 | 注意 |
| `║══════║` | 2-6 小时 | 🟠 橙色 | 警告 |
| `║║` | <2 小时 | 🔴 红色 | 紧急 |

**边缘进度条**：卡片左侧竖条，从上到下代表时间流逝

### 内容类型定义

| 类型 | 图标 | 说明 | 示例 |
|------|------|------|------|
| **💡 随时灵感** | 灯泡 | 突然的想法、创意点子 | "产品可以这样..." |
| **💼 工作待办** | 公文包 | 工作相关的任务/消息 | "回复客户" "准备会议" |
| **🏠 个人生活** | 房子 | 个人事务 | "买牛奶" "预约体检" |
| **📰 文章链接** | 报纸 | 想读的文章/视频 | "这篇深度分析..." |
| **📝 其他** | 笔记 | 不便分类的内容 | 任意内容 |

---

## 📱 四个视图

### 🏠 操作台（主界面）

- 按内容类型分组展示
- 显示时间紧迫度（边缘进度条）
- 点击卡片展开详情 + 四象限操作
- 底部导航切换视图

### 🥘 菜单视图

**功能**：列出所有"加入菜单"的任务

```
┌─────────────────────────────────────────────────────────────┐
│  🥘 菜单                                  + 新建任务          │
├─────────────────────────────────────────────────────────────┤
│  [全部] [💼 工作] [🏠 个人] [📝 其他]      🔍 搜索          │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ ☐ 阅读 AI 写作助手深度分析             💼 工作      │    │
│  │    📅 今天 14:30 加入                                │    │
│  │    [📋 复制] [✅ 完成] [🗑️ 删除]                    │    │
│  └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

**操作**：
- 📋 复制 → 再次复制 Todoist 格式
- ✅ 完成 → 标记已完成
- 🗑️ 删除 → 移入垃圾桶
- 筛选/搜索

### 🧊 冰箱视图

**功能**：列出所有"放入冰箱"的资料

```
┌─────────────────────────────────────────────────────────────┐
│  🧊 冰箱                                  + 新建存储          │
├─────────────────────────────────────────────────────────────┤
│  [全部] [📚 文章] [💡 灵感] [📝 其他]      🔍 搜索          │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ 📄 AI 写作助手深度分析                 📚 文章      │    │
│  │    📅 今天 15:00 加入                                │    │
│  │    [📋 复制] [👁️ 预览] [🗑️ 删除]                   │    │
│  └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

**操作**：
- 📋 复制 → 复制 Notion 格式
- 👁️ 预览 → 查看完整内容
- 🗑️ 删除 → 移入垃圾桶
- 筛选/搜索

### 📜 历史视图

**功能**：所有已处理内容的记录

```
┌─────────────────────────────────────────────────────────────┐
│  📜 处理历史                                                 │
├─────────────────────────────────────────────────────────────┤
│  [全部] [🔪 已处理] [🥘 菜单] [🧊 冰箱] [🗑️ 删除]           │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ 🔪 已处理 - 回复王总关于项目进度        💼 工作      │    │
│  │    📅 今天 10:00 处理完成                             │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ 🧊 放入冰箱 - AI 写作助手深度分析         📚 文章      │    │
│  │    📅 今天 15:00 加入冰箱                             │    │
│  └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔔 智能提醒

### 提醒机制

| 时机 | 动作 |
|------|------|
| 剩余 2 小时 | 第一次提醒 |
| 剩余 30 分钟 | 紧急提醒 |
| 每日清空时间 | 清空提醒 |

### 提醒界面

```
┌─────────────────────────────────────────────────────────────┐
│  ⏰ 提醒                                                     │
│                                                               │
│  你有 2 张卡片即将过期：                                      │
│  · AI 写作助手深度分析 (还剩 30 分钟)                        │
│  · 回复王总 (还剩 1 小时)                                    │
│                                                               │
│                                    [稍后提醒]  [现在处理]    │
└─────────────────────────────────────────────────────────────┘
```

---

## 💾 数据导出/备份

### 功能

```
设置
├─ 📤 导出所有数据 → 下载 JSON 文件
├─ 📥 导入数据 → 从 JSON 恢复
└─ 🔄 自动备份（可选）→ 每天自动导出到 Downloads
```

### 导出格式

```json
{
  "version": "1.0",
  "exportDate": "2025-02-09T20:00:00Z",
  "items": [
    {
      "id": "abc-123",
      "content": "文章标题",
      "type": "link",
      "category": "article",
      "status": "pending",
      "createdAt": 1739098800000,
      "expiresAt": 1739185200000
    }
  ],
  "settings": {
    "expireHours": 24,
    "clearanceTime": "22:00",
    "theme": "dark"
  }
}
```

---

## 📝 MVP 功能优先级

| 优先级 | 功能 | 说明 |
|--------|------|------|
| **P0** | 核心四象限 + 腐烂机制 | 概念验证必需 |
| **P0** | 数据导出/导入 | 本地版本安全网 |
| **P0** | 操作台视图（按类型分组） | 核心交互 |
| **P1** | 菜单/冰箱视图 | 分流内容管理 |
| **P1** | 历史视图 | 已处理内容记录 |
| **P1** | 智能提醒 | 腐烂机制配套 |
| **P1** | 每日清空提醒 | 核心机制配套 |
| **P2** | 搜索 | 卡片多了才有用 |
| **P2** | 快捷键 | 提升效率 |
| **P3** | 每日总结 | 趣味功能 |
| **P3** | 浏览器插件 | 增强体验 |

### v1.0 范围（P0 + P1）

**包含**：
- ✅ 收集入口（文字/链接）
- ✅ 操作台视图（按类型分组）
- ✅ 四象限分拣（标记 + 智能导出）
- ✅ 菜单/冰箱/历史视图
- ✅ 24小时腐烂（本地计时）
- ✅ 智能提醒 + 每日清空提醒
- ✅ 数据导出/导入

**不包含**：
- ❌ 多用户登录
- ❌ 跨设备同步
- ❌ 第三方 API 集成（用格式化导出代替）
- ❌ 搜索功能
- ❌ 快捷键
- ❌ 浏览器插件

---

## 📂 项目目录

```
/Users/lukelei/Vibe coding projects/workbench/
├── design-doc.md          # 本设计文档
├── workbench/             # 项目代码（待创建）
│   ├── src/
│   ├── public/
│   └── package.json
└── docs/                  # 其他文档（如需要）
```

---

## 🎨 设计参考

### 视觉隐喻

- **操作台** = 厨师的操作台，不是储物柜
- **卡片** = 待处理的食材
- **新鲜度** = 食材的保质期
- **四象限** = 立即炒 / 放冰箱 / 扔掉 / 存菜单

### UI 风格关键词

- 临时、轻量、流动
- 不完美、不整齐（不是死板的列表）
- 时间紧迫感（倒计时、颜色渐变）
- 清空后的满足感

---

*本文档会随着讨论持续更新*
